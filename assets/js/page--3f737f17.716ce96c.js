(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{731:function(a,t,e){"use strict";e.r(t);var s=e(1),v=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("![GC流程图](file://C:\\Users\\18496\\Desktop\\docs\\fmiles\\docs\\interview\\1873356-20200406094416200-721919459.png?lastModify=1649054840)")]),a._v(" "),e("h4",{attrs:{id:"空间分配担保"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#空间分配担保"}},[a._v("#")]),a._v(" 空间分配担保：")]),a._v(" "),e("p",[a._v("![img](file://C:\\Users\\18496\\Desktop\\docs\\fmiles\\docs\\java\\jvm\\gc\\images{5A54D223-768E-86EB-C1A6-DBCB71577439}.jpg?lastModify=1649054882)")]),a._v(" "),e("h4",{attrs:{id:"在java-语言中-gc-roots-包括"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在java-语言中-gc-roots-包括"}},[a._v("#")]),a._v(" 在Java 语言中，GC Roots 包括：")]),a._v(" "),e("ul",[e("li",[a._v("虚拟机栈(栈帧中的本地变量表)中引用的对象")]),a._v(" "),e("li",[a._v("navtive，本地方法栈(Native 方法)中引用的对象")]),a._v(" "),e("li",[a._v("static，类静态变量引用的对象（堆中）")]),a._v(" "),e("li",[a._v("final，常量引用的对象（方法区中）")]),a._v(" "),e("li",[a._v("synchronzied 引用的对象（堆中）")])]),a._v(" "),e("h4",{attrs:{id:"gc-的时机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gc-的时机"}},[a._v("#")]),a._v(" GC 的时机")]),a._v(" "),e("p",[a._v("在分代模型的基础上，GC从时机上分为两种：Scavenege GC 和 Full GC")]),a._v(" "),e("h5",{attrs:{id:"scavenge-gc-又称minor-gc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scavenge-gc-又称minor-gc"}},[a._v("#")]),a._v(" Scavenge GC（又称Minor GC）：")]),a._v(" "),e("ul",[e("li",[a._v("触发时机：新对象生成时，Eden空间满了")]),a._v(" "),e("li",[a._v("理论上 eden 区大多数对象会在 Scavenge GC  回收，复制算法的执行效率会很高，Scavenge GC 时机比较短。")])]),a._v(" "),e("h5",{attrs:{id:"full-gc"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#full-gc"}},[a._v("#")]),a._v(" Full GC：")]),a._v(" "),e("ul",[e("li",[a._v("对整个 JVM 进行整理，包括Young、Old和Perm（现在没有永久代概念，其实应该是方法区，但是对元空间的回收是效率极低的，因此很少会回收）")]),a._v(" "),e("li",[a._v("主要的触发时机：1）Old 满了；2）老年代担保失败。3）system.gc()；")]),a._v(" "),e("li",[a._v("效率很低，尽量减少 Full GC")])]),a._v(" "),e("p",[a._v("一定要避免在出现 Full GC。整个业务线程都会暂停一段时间。")])])}),[],!1,null,null,null);t.default=v.exports}}]);