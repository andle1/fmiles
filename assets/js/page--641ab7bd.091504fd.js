(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{712:function(s,a,t){"use strict";t.r(a);var n=t(1),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("现代JVM在执行Java代码的时候，通常都会将解释执行与编译执行二者结合起来进行。")]),s._v(" "),t("p",[s._v("所谓解释执行，就是通过解释器来读取字节码，遇到相应的指令就去执行该命令。")]),s._v(" "),t("p",[s._v("所谓编译执行，就是通过即使编译器（Just In Time，JIT）将字节码转换为本地机器码来执行；现代JVM会根据代码热点（即代码使用的频率）来生成相应的本地机器码。")]),s._v(" "),t("h5",{attrs:{id:"基于栈的指令集和基于寄存器的指令集之间的关系"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于栈的指令集和基于寄存器的指令集之间的关系"}},[s._v("#")]),s._v(" 基于栈的指令集和基于寄存器的指令集之间的关系：")]),s._v(" "),t("p",[s._v("1、JVM执行指令时所采取得就是基于栈的指令集。")]),s._v(" "),t("p",[s._v("2、基于栈的指令集主要的操作。")]),s._v(" "),t("p",[s._v("3、基于栈的指令集优势在于移植性好，而基于寄存器的指令集是与硬件精密关联的，无法做到可移植性。")]),s._v(" "),t("p",[s._v("4、基于栈的指令集的缺点在于完成相同的操作，指令数量要比基于寄存器的指令集数量要多；基于站的指令集是    在内存中完成操作的，而基于寄存器的指令集是直接由CPU来执行的，它是在高速缓冲区中进行执行的，速度要快很多。虽然虚拟机可以采用一些优化手段，但总体来说，基于栈的指令集的执行速度要慢一些。")]),s._v(" "),t("h5",{attrs:{id:"实例分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实例分析"}},[s._v("#")]),s._v(" 实例分析：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MyTest9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("myCalculate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" d "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" result "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("字节码：")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" iconst_1  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//将1推送至操作数栈中")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" istore_1  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 弹出操作数栈顶元素（这里是1），然后赋值给局部变量表第一项。因为局部变量第0项是this")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" iconst_2\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" istore_2\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" iconst_3\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" istore_3\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" iconst_4\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" istore "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" iload_1   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//  将局部变量表的第一项推送至栈顶")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" iload_2  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 将局部变量表的第二项推送至栈顶,这时候栈里面有1，2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" iadd   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 弹出栈顶的前两个元素，并且相加，然后把结果压入栈.即弹出1，2，相加结果为3，再压入栈")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" iload_3 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" isub\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" iload "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" imul\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" istore "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 弹出栈顶元素，赋值给局部变量第5项，即result变为5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" iload "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("  \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" ireturn "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 返回栈顶元素到调用此方法的那个方法的操作数栈中。其他的栈内元素会被丢弃。")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("p",[s._v("iconst_1 可以用 bipush<1>代替，iconst 只是预先义好了5个数（1~5）")]),s._v(" "),t("p",[s._v("ireturn的理解：")]),s._v(" "),t("p",[s._v("在A方法里面调用了B方法，执行到B方法这行代码时，会去执行B方法，然后B通过ireturn返回结果到A方法操作数栈当中。")])])}),[],!1,null,null,null);a.default=e.exports}}]);